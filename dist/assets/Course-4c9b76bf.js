/* empty css             *//* empty css               *//* empty css                    *//* empty css                  *//* empty css              *//* empty css               *//* empty css                  *//* empty css               *//* empty css                */import{r as c}from"./request-b7977999.js";import{l as N,o as z,c as S,a as p,b as o,d as g,w as a,m as B,n as P,q as T,s as D,v as q,x as V,j as i,y as f,z as O,A as $,B as A,C as F}from"./index-ee5ec25e.js";const I={class:"card",style:{"margin-bottom":"10px"}},J={class:"card",style:{"margin-bottom":"10px"}},M={style:{"margin-bottom":"10px"}},j={class:"card"},G={class:"dialog-footer"},te={__name:"Course",setup(H){const e=N({name:"",no:"",teacher:"",tableData:[],total:0,pageNum:1,pageSize:5,formVisible:!1,form:{}}),s=()=>{c.get("/course/selectPage",{params:{pageNum:e.pageNum,pageSize:e.pageSize,name:e.name,no:e.no,teacher:e.teacher}}).then(r=>{var l,n;e.tableData=((l=r.data)==null?void 0:l.list)||[],e.total=((n=r.data)==null?void 0:n.total)||0})};s();const _=()=>{s()},b=()=>{e.name="",e.no="",e.teacher="",s()},x=()=>{e.form={},e.formVisible=!0},y=()=>{c.request({url:e.form.id?"/course/update":"/course/add",method:e.form.id?"PUT":"POST",data:e.form}).then(r=>{r.code==="200"?(s(),e.formVisible=!1,f.success("操作成功")):f.error(r.msg)})},h=r=>{e.form=JSON.parse(JSON.stringify(r)),e.formVisible=!0},C=r=>{O.confirm("删除数据后无法恢复，您确认删除吗？","删除确认",{type:"warning"}).then(l=>{c.delete("/course/delete/"+r).then(n=>{n.code==="200"?(s(),f.success("操作成功")):f.error(n.msg)})}).catch(l=>{})};return(r,l)=>{const n=B,m=P,d=$,v=T,w=D,u=A,k=F,E=q;return z(),S("div",null,[p("div",I,[o(n,{style:{width:"260px","margin-right":"10px"},modelValue:e.name,"onUpdate:modelValue":l[0]||(l[0]=t=>e.name=t),placeholder:"请输入课程名称查询","prefix-icon":g(V)},null,8,["modelValue","prefix-icon"]),o(n,{style:{width:"260px","margin-right":"10px"},modelValue:e.no,"onUpdate:modelValue":l[1]||(l[1]=t=>e.no=t),placeholder:"请输入课程编号查询","prefix-icon":g(V)},null,8,["modelValue","prefix-icon"]),o(n,{style:{width:"260px"},modelValue:e.teacher,"onUpdate:modelValue":l[2]||(l[2]=t=>e.teacher=t),placeholder:"请输入任课老师查询","prefix-icon":g(V)},null,8,["modelValue","prefix-icon"]),o(m,{type:"primary",style:{"margin-left":"10px"},onClick:s},{default:a(()=>[i("查询")]),_:1}),o(m,{type:"info",onClick:b},{default:a(()=>[i("重置")]),_:1})]),p("div",J,[p("div",M,[o(m,{type:"primary",onClick:x},{default:a(()=>[i("新增")]),_:1})]),p("div",null,[o(v,{data:e.tableData,style:{width:"100%"}},{default:a(()=>[o(d,{prop:"id",label:"序号",width:"70"}),o(d,{prop:"name",label:"课程名称"}),o(d,{prop:"no",label:"课程编号"}),o(d,{prop:"descr",label:"课程描述"}),o(d,{prop:"times",label:"课时"}),o(d,{prop:"teacher",label:"任课老师"}),o(d,{label:"操作",width:"180"},{default:a(t=>[o(m,{type:"primary",onClick:U=>h(t.row)},{default:a(()=>[i("编辑")]),_:2},1032,["onClick"]),o(m,{type:"danger",onClick:U=>C(t.row.id)},{default:a(()=>[i("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])]),p("div",j,[o(w,{"current-page":e.pageNum,"onUpdate:currentPage":l[3]||(l[3]=t=>e.pageNum=t),"page-size":e.pageSize,"onUpdate:pageSize":l[4]||(l[4]=t=>e.pageSize=t),onCurrentChange:_,background:"",layout:"prev, pager, next",total:e.total},null,8,["current-page","page-size","total"])]),o(E,{width:"35%",modelValue:e.formVisible,"onUpdate:modelValue":l[11]||(l[11]=t=>e.formVisible=t),title:"课程信息"},{footer:a(()=>[p("span",G,[o(m,{onClick:l[10]||(l[10]=t=>e.formVisible=!1)},{default:a(()=>[i("取 消")]),_:1}),o(m,{type:"primary",onClick:y},{default:a(()=>[i("保 存")]),_:1})])]),default:a(()=>[o(k,{model:e.form,"label-width":"100px","label-position":"right",style:{"padding-right":"40px"}},{default:a(()=>[o(u,{label:"课程名称"},{default:a(()=>[o(n,{modelValue:e.form.name,"onUpdate:modelValue":l[5]||(l[5]=t=>e.form.name=t),autocomplete:"off"},null,8,["modelValue"])]),_:1}),o(u,{label:"课程编号"},{default:a(()=>[o(n,{modelValue:e.form.no,"onUpdate:modelValue":l[6]||(l[6]=t=>e.form.no=t),autocomplete:"off"},null,8,["modelValue"])]),_:1}),o(u,{label:"课程描述"},{default:a(()=>[o(n,{modelValue:e.form.descr,"onUpdate:modelValue":l[7]||(l[7]=t=>e.form.descr=t),autocomplete:"off"},null,8,["modelValue"])]),_:1}),o(u,{label:"课时"},{default:a(()=>[o(n,{modelValue:e.form.times,"onUpdate:modelValue":l[8]||(l[8]=t=>e.form.times=t),autocomplete:"off"},null,8,["modelValue"])]),_:1}),o(u,{label:"任课老师"},{default:a(()=>[o(n,{modelValue:e.form.teacher,"onUpdate:modelValue":l[9]||(l[9]=t=>e.form.teacher=t),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}};export{te as default};
