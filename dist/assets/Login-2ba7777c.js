/* empty css             *//* empty css                  */import{r as y}from"./request-57132f24.js";/* empty css              *//* empty css               *//* empty css                  *//* empty css               */import{_ as V,l as u,D as I,o as b,c as E,a as r,b as o,w as s,C as N,j as c,p as S,g as k,y as _,I as B,m as U,B as D,J as L,K as q,n as C}from"./index-6fff8ab5.js";const f=a=>(S("data-v-28020134"),a=a(),k(),a),M={class:"login-container"},T={style:{width:"350px"},class:"login-box"},A=f(()=>r("div",{style:{"font-weight":"bold","font-size":"24px","text-align":"center","margin-bottom":"30px"}},"教务系统",-1)),F=f(()=>r("div",{style:{"margin-top":"30px","text-align":"right"}},[c(" 还没有账号？点击"),r("a",{href:"/register"},"这里")],-1)),J={__name:"Login",setup(a){const t=u({form:{role:"ADMIN"}}),g=u({username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),d=I(),x=()=>{d.value.validate(m=>{m&&y.post("/login",t.form).then(e=>{e.code==="200"?(localStorage.setItem("student-user",JSON.stringify(e.data)),_.success("登录成功"),console.log(e.data),B.push("/home")):_.error(e.msg)})})};return(m,e)=>{const p=U,n=D,i=L,h=q,v=C,w=N;return b(),E("div",null,[r("div",M,[r("div",T,[A,o(w,{model:t.form,ref_key:"formRef",ref:d,rules:g},{default:s(()=>[o(n,{prop:"username"},{default:s(()=>[o(p,{"prefix-icon":"User",modelValue:t.form.username,"onUpdate:modelValue":e[0]||(e[0]=l=>t.form.username=l),placeholder:"请输入账号"},null,8,["modelValue"])]),_:1}),o(n,{prop:"password"},{default:s(()=>[o(p,{"show-password":"","prefix-icon":"Lock",modelValue:t.form.password,"onUpdate:modelValue":e[1]||(e[1]=l=>t.form.password=l),placeholder:"请输入密码"},null,8,["modelValue"])]),_:1}),o(n,{prop:"role"},{default:s(()=>[o(h,{style:{width:"100%"},modelValue:t.form.role,"onUpdate:modelValue":e[2]||(e[2]=l=>t.form.role=l)},{default:s(()=>[o(i,{value:"ADMIN",label:"管理员"}),o(i,{value:"STUDENT",label:"学生"})]),_:1},8,["modelValue"])]),_:1}),o(n,null,{default:s(()=>[o(v,{type:"primary",style:{width:"100%"},onClick:x},{default:s(()=>[c("登 录")]),_:1})]),_:1})]),_:1},8,["model","rules"]),F])])])}}},Q=V(J,[["__scopeId","data-v-28020134"]]);export{Q as default};
